<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activities</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        .canceled {
            background: repeating-linear-gradient(
                45deg,
                #f87171,
                #f87171 10px,
                #fca5a5 10px,
                #fca5a5 20px
            );
            color: white;
            animation: slide 2s linear infinite;
        }
        @keyframes slide {
            0% { background-position: 0 0; }
            100% { background-position: 100% 100%; }
        }
        .bg-light-green-1 {
            background-color: #d4edda;
        }
        .bg-light-green-2 {
            background-color: #c3e6cb;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900">
    <div class="container mx-auto p-4">
        <h1 class="text-3xl font-bold mb-4">Activities</h1>
        <div class="grid grid-cols-3 gap-4 mb-2 font-bold">
            <div>Dato & Tid</div>
            <div>Instruktør</div>
            <div>Pladser</div>
        </div>
        <ul class="list-none">
            {% for activity in activities %}
                {% set available_spots = activity['Headlines']['Ledige pladser'] %}
                {% set row_class = 'canceled' if 'AFLYST' in activity['Name'] else 'bg-red-200' if '0 ledige pladser' in available_spots else 'bg-light-green-' ~ (loop.index0 % 2 + 1) %}
                <li class="mb-2 p-4 {{ row_class }} rounded-lg shadow-md">
                    <h2 class="text-xl font-semibold mb-2">{{ activity['Name'] }}</h2>
                    <div class="grid grid-cols-3 gap-4">
                        <div class="text-gray-700">{{ activity['StartDate'] }}</div>
                        <div class="text-gray-700">{{ activity['Headlines']['Instruktør'] }}</div>
                        <div class="text-gray-700">{{ available_spots }}</div>
                    </div>
                </li>
            {% endfor %}
        </ul>
    </div>
</body>
</html>